import { Component, ElementRef, TemplateRef, ViewChild } from '@angular/core';
import { NgbModal } from '@ng-bootstrap/ng-bootstrap';

@Component({
  selector: 'app-countries',
  templateUrl: './countries.component.html',
  styleUrls: ['./countries.component.scss'],
})
export class CountriesComponent {
  activeItem = 'Countries';

  constructor(private ngModelService: NgbModal) {}

  @ViewChild('countryNameInput') countryInput!: ElementRef;
  onAddCountry(country: TemplateRef<any>) {
    this.ngModelService.open(country);
    setTimeout(() => {
      this.countryInput.nativeElement.focus();
    }, 100);
  }
}




<div class="container-fluid">
  <div class="row m-3">
    <div class="col-md-4 pb-2">
      <button class="btn btn-primary" (click)="onAddCountry(addCountryModal)">
        Add Country
      </button>
    </div>
    <div class="col-md-4 pb-2">
      <select name="searchBy" id="searchBy" class="form-select">
        <option selected value="null">Country Name</option>
      </select>
    </div>
    <div class="col-md-4">
      <input
        type="text"
        name="searchText"
        id="searchText"
        class="form-control"
      />
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <table class="table table-bordered">
        <thead>
          <th>Si.No.</th>
          <th>Country Name</th>
          <th>Action</th>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>India</td>
            <td ><button class="btn btn-info">Edit</button></td>
            <td><button class="btn btn-danger">Delete</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- create Country -->

<ng-template #addCountryModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Add Country</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form #countryForm="ngForm">
      <div class="mb-3">
        <div class="input-group">
          <input
            id="country"
            class="form-control"
            placeholder="Enter Country Name"
            name="country"
            #countryNameInput
          />
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-outline-success"
      (click)="modal.close('Save click')"
    >
      Save
    </button>
  </div>
</ng-template>
